<html>
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Form Validation</title>
  <style>
    table,
    th,
    td {
      width: 50vw;
      padding: 10;
      border: 2px solid rgba(128, 128, 128, 0.356);
    }
    table {
      margin-left: 15px;
      margin-right: 15px;
    }
  </style>
  <body>
    <div class="flex justify-center">
      <div id="res"></div>
      <form
        id="user-form"
        onsubmit="submitListener(event)"
        class="p-5 rounded-lg bg-white-150 shadow-2xl mt-20 border-2 border-gray-100"
      >
        <label for="name" class="text-xl mr-20">Name</label>
        <input
          type="text"
          id="name"
          name="name"
          class="border-2 border-gray-700 rounded-lg p-1 m-5 shadow-md"
          required
        /><br />

        <label for="email" class="text-xl mr-20">Email</label>
        <input
          type="email"
          id="email"
          name="email"
          class="border-2 border-gray-700 rounded-lg m-5 p-1 shadow-md"
          required
        /><br />

        <label for="password" class="text-xl mr-12">Password</label>
        <input
          type="password"
          id="password"
          name="password"
          class="border-2 border-gray-700 rounded-lg m-5 p-1 shadow-md"
          required
        /><br />

        <label for="dob" class="text-xl mr-4">Date of Birth</label>
        <input
          type="date"
          id="dob"
          min="1967-02-08"
          max="2005-02-08"
          class="border-2 border-gray-700 rounded-lg m-5 p-1 shadow-md"
          required
        />
        <br />
        <input
          type="checkbox"
          id="acceptTerms"
          name="acceptTerms"
          class="my-3 mx-3 mb-6 shadow-md"
          required
        />
        <label for="acceptTerms">Accept Terms & Conditions</label><br />

        <button
          type="submit"
          class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full"
        >
          Submit
        </button>
      </form>
    </div>
    <div
      class="flex flex-col absolute place-items-center border-2 rounded-lg border-gray-100 mt-20 shadow-2xl"
      style="margin-left: 25%;"
    >
      <div class="">
        <p class="text-3xl font-bold mb-16">Entries</p>
      </div>
      <div class="flex flex-col">
        <div class="flex flex-row">
          <div class="font-bold absolute top-14" style="margin-left: 6%;">Name</div>
          <div class="font-bold absolute top-14" style="margin-left: 24%;">Email</div>
          <div class="font-bold absolute top-14" style="margin-left: 55%;">Password</div>
          <div class="font-bold absolute top-14" style="margin-left: 70%;">Dob</div>
          <div class="font-bold absolute top-14" style="margin-left: 85%;">Accepted terms?</div>
        </div>
          <table class="table-auto relative" >
            <tbody id="showData"></tbody>
          </table>
        </div>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    let UserEntries = [];
    let flag = true;

    function submitListener(event) {
      event.preventDefault();
      document.getElementById("showData").innerHTML = "";
      var name = document.getElementById("name").value;
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;
      var dob = document.getElementById("dob").value;
      var acceptTerms = document.getElementById("acceptTerms").checked;

      var entries = {
        name,
        email,
        password,
        dob,
        acceptTerms,
      };
      if (flag) {
        var users = [];
        users = JSON.parse(localStorage.getItem("user-entries")) || [];
        for (var i = 0; i < users.length; i++) {
          UserEntries.push(users[i]);
        }
        flag = false;
      }
      UserEntries.push(entries);
      localStorage.setItem("user-entries", JSON.stringify(UserEntries));
      showData();
    }
    function showData() {
      var users = JSON.parse(localStorage.getItem("user-entries")) || [];
      for (var i = 0; i < users.length; i++) {
        let res = `<tr>
        <td>${users[i].name}</td>
        <td>${users[i].email}</td>
        <td>${users[i].password}</td>
        <td>${users[i].dob}</td>
        <td>${users[i].acceptTerms}</td>
      </tr>`;
        document.getElementById("showData").innerHTML += res;
      }
    }
    showData();
  </script>
</html>
